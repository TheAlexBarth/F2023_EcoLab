<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.313">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>570L Fall 2023 – gen_stats-guide</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">570L Fall 2023</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./syllabus.html">
 <span class="menu-text">Syllabus</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-class-code" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Class Code</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-class-code">    
        <li>
    <a class="dropdown-item" href="./code_main.html">
 <span class="dropdown-text">General Resources</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./code_lab-00.html">
 <span class="dropdown-text">Intro Assignment Code</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./code_lab-01.html">
 <span class="dropdown-text">Behavioral Ecology Analysis Code</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./code_lab-02.html">
 <span class="dropdown-text">Biodiversity Analysis Code</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-class-documents" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Class Documents</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-class-documents">    
        <li>
    <a class="dropdown-item" href="./gen_expectations.html">
 <span class="dropdown-text">General Grading Expectations</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./lab_0_intro_assignment.html">
 <span class="dropdown-text">Intro Assignment</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./lab_1_behavioral-ecology.html">
 <span class="dropdown-text">Lab 1: Behavioral Urban Ecology</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./lab_2_forest-biodiversity.html">
 <span class="dropdown-text">Lab 2: Intermediate Distrubance &amp; Forest Ecology</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./lab_3_community-assemblages.html">
 <span class="dropdown-text">Lab 3: Community Assemblages</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./lab_3b_data-day.qmd">
 <span class="dropdown-text">Lab 3.5 Data Analyses</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./lab_4.qmd">
 <span class="dropdown-text">Lab 4</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./lab_5.qmd">
 <span class="dropdown-text">Lab 5</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./proj_main.html">
 <span class="dropdown-text">Independent Projects</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="./addtl_resources.html">
 <span class="menu-text">Additional Resources</span></a>
  </li>  
</ul>
              <div class="quarto-toggle-container">
                  <a href="" class="quarto-color-scheme-toggle nav-link" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
                  <a href="" class="quarto-reader-toggle nav-link" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
              </div>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">



<section id="statistics-in-ecology" class="level1">
<h1>Statistics in Ecology</h1>
<p>As ecologists, we often are interested in testing hypotheses about some ecological relationship, prediction, or theory. Generally, our hypotheses may relate to some wild population, large ecosystem, or a broad-scale relationship (e.g.&nbsp;a predicted relationship from a theory; like allometric scaling or survival under different conditions, etc). However, it is typically impossible to survey the entire group of interest. In statistics, we define the entire group of interest as our “population” or the “population-level”. Note that this may be slightly different than the ecological definition of population as a group of same-species organisms in an ecosystem. For the purposes of this article, I’ll use “population” in the statistical sense.</p>
<p>Let’s say we were interested in whether or not campus squirrels were fatter than squirrels from Harbison forest. To test this prediction, we’d need to collect some campus squirrels and some forest squirrels, get a body-fat composition analysis and compare them. Well, in this example, our “population-level” interest is all the squirrels in the forest and all the squirrels on campus. What specifically we are interested in is the difference between mean campus body fat and mean forest body fat. In statistical notation, this would be written as: <span class="math inline">\(\mu_{c} - \mu_{f}\)</span>. Where c and f denote campus and forest. The term <span class="math inline">\(\mu\)</span> is common for population-level mean. Any metric of interest at the population-level, we can call a <strong><em>parameter.</em></strong> However, it would be impossible to capture every single squirrel. So we can’t actually measure our parameter of interest. Instead we have to take a <strong><em>sample</em></strong> from the population. Let’s say we collect 5 squirrels each from the forest and campus. Well now we could calculate the mean of our sample. The metric calculated at the sample-level, is referred to as a statistic. In our case that would be the sample mean of campus and forest squirrels (in statistics notation this is either <span class="math inline">\(\bar{x}_c - \bar{x}_f\)</span> or <span class="math inline">\(\hat{\mu}_c - \hat{\mu}_f\)</span>). Well, how can we know if our statistics are actually representative of the true population parameter of interest? That is where inferential statistical tests enter the picture. At the most broad level, statistical analyses give us the ability to discuss how confident we are that our samples are representative of reality (the population-level parameters).</p>
<p><img src="media/gen_stats-inferential-diagram.png" class="img-fluid"></p>
<p>In this document, I’ll briefly summarize some basics of data types, how to plot them, and a basic tool kit for statistically testing your data. This is by no means an exhaustive list, but hopefully a good starting point. Additionally, in this article I’ll try to provide a little bit more detail for those who are interested. Don’t feel the need to deeply understand everything. However, please read through the whole article. A common issue in applying statistics to ecological data, is that ecologists fall into traps of how to correctly understand and interpret the results of a test. To avoid these traps, we need to understand the basics of common approaches, then why they might be misleading when interpreting them.</p>
<p>Like most things, learning how and when to apply a given test, comes with experience. So I hope you are able to refer back while working on independent projects.</p>
<p>Let’s recap some basic terms:</p>
<p>Population - in a statistical sense, this is the entire group of interest (could be multiple, or less, biological populations)</p>
<p>Parameter - a metric which describes a feature at the population level</p>
<p>Sample - a sub-group of the population</p>
<p>Statistic - a metric describing the sample-level, which can be used to make inferences about the population.</p>
</section>
<section id="types-of-data" class="level1">
<h1>Types of Data</h1>
<p>There are several types of data which we will encounter while processing ecological data. The type of data that we collect determines what types of statistical tests we may be able to use with our data.</p>
<p>Here’s some of the basic types of data we may encounter:</p>
<p><strong><br>
1. Categorical Data -</strong> represent distinct categories or groups. These categories are often non-numeric and do not have a natural order. When discussing categorical data, we might also specify the number of levels it has.</p>
<ul>
<li><strong>EX: Habitat Types</strong>: Categorizing different habitat types, such as forest, grassland, or wetland. In that case, we might say there are three levels.</li>
</ul>
<p><strong>2. Continuous Data -</strong> take any numeric value. They are measured on a continuous scale and can have decimal values. Note that we may take count data and make it continuous by surveying a fixed area.</p>
<ul>
<li><p><strong>Ex:</strong></p>
<ul>
<li><p><strong>Temperature</strong>: Recording temperature in degrees Celsius or Fahrenheit.</p></li>
<li><p><strong>Height of Trees</strong>: Measuring tree heights in meters or centimeters.</p></li>
<li><p><strong>Density of snails:</strong> We might count the number of snails per square meter. This would be continuous</p></li>
</ul></li>
</ul>
<p><strong>3. Count Data -</strong> the number of occurrences or items in a fixed area, time, or sample. Note that this is often converted to a continuous variable if standardizing across space or time</p>
<ul>
<li><p><strong>Ex:</strong></p>
<ul>
<li><p><strong>Bird Counts</strong>: Counting the number of birds in a specific area during a bird survey.</p></li>
<li><p><strong>Insect Abundance</strong>: Counting the number of insects on a plant.</p></li>
</ul></li>
</ul>
<p><strong>4. Ordinal Data</strong> - categorical data with a natural order or ranking among categories. However, the intervals between categories may not be uniform.</p>
<ul>
<li><p><strong>Ex:</strong></p>
<ul>
<li><p><strong>Behavioral Rankings</strong>: Ranking animal behavior from “aggressive” to “docile.”</p></li>
<li><p><strong>Vegetation Health</strong>: Assessing vegetation health as “poor,” “fair,” or “excellent.”</p></li>
</ul></li>
</ul>
<p><strong>5. Time Series Data -</strong> data are collected over successive time intervals. They are used to analyze trends and changes over time. These data are often continuous (although could be categorical time series). However, there as several specialized approaches to dealing with such data.</p>
<ul>
<li><p><strong>Ex</strong>:</p>
<ul>
<li><p><strong>Stream Flow</strong>: Measuring daily stream flow rates over a year.</p></li>
<li><p><strong>Climate Data</strong>: Recording monthly temperature and precipitation data over several decades.</p></li>
</ul></li>
</ul>
<p><strong>6. Multivariate Data -</strong> multiple variables measured for each sample or observation. They can include combinations of categorical, continuous, or count data.</p>
<ul>
<li><p><strong>Ex:</strong></p>
<ul>
<li><p><strong>Community Composition</strong>: Analyzing species composition in ecological communities with multiple species present.</p></li>
<li><p><strong>Ecosystem Characteristics</strong>: Measuring various ecosystem attributes, such as biodiversity, soil nutrients, and plant biomass, in a study area.</p></li>
</ul></li>
</ul>
</section>
<section id="types-of-variables" class="level1">
<h1>Types of Variables</h1>
<p>When analyzing ecological data, we typically are interested in relating how two different sets of data are related (or different).</p>
<p>Predictive variables - these are sometimes referred to as independent or explanatory variables. This is the data which you are using to explain a phenomena</p>
<p>Response variables - these are at times referred to as dependent variables. This is the data which is the phenonena/metric of interest.</p>
<p>Let’s take the squirrel example above. In that case, our explanatory variable would be location (2 possible levels: campus or forest). Our response variable would be squirrel body fat composition. These would be categorical and continuous data respectively.</p>
</section>
<section id="plotting-data" class="level1">
<h1>Plotting Data</h1>
<p>Plots should always offer a nice visual representation of your data. They should have some level of summary or trends visible through the image. Always make sure that your figure caption and axes titles</p>
<p>See this example guide for a reference on what plots work well for what data</p>
</section>
<section id="the-basic-idea-behind-most-analyses" class="level1">
<h1>The basic idea behind most analyses</h1>
<p>Ecologists have relied on a suite of statistical tools to make inferences about their data. Traditionally, frequentist methods have dominated the landscape. At a broad level, this category of approach assumes that there is a fixed parameter among a population of interest. Then our sample, ideally unbiased and random, can be used to make inferences about the population, as discussed above.</p>
<p>At this point, you’ve likely implemented a variety of statistical tests. However, let’s review some basic ideas behind these analyses.</p>
<section id="null-hypothesis-significance-testing" class="level3">
<h3 class="anchored" data-anchor-id="null-hypothesis-significance-testing">Null hypothesis significance testing</h3>
<p>Many common approaches to analyzing data rely on the idea of null-hypothesis significance testing. These approaches set a null and an alternative hypothesis, then test how likely our data supports the ability to “reject” the null hypothesis. The null hypothesis, in most cases, is the base assumption that there is no effect, no difference, or no relationship (depending on the data being analyzed). Alternatively, the alternative hypothesis is that there is some effect, difference, or relationship. Effectively, what most analyses do is account for how large the sample size is, how big the sample variation is, then evaluate its ability to determine a conclusion about the population-level.</p>
<p>There is a lot of jargon in that, and it might be confusing when speaking so broadly. So let’s take a look in our squirrel example:</p>
<p>We are interested in the body-fat composition of two populations of squirrels. Now we collected some sample of squirrels from each location and we want to compare them. In this case we’d probably use a t-test. The null hypothesis would be that there is no significant difference between our two squirrel populations (<span class="math inline">\(\mu_c - \mu_f = 0\)</span>). The alternative hypothesis is that there is a significant difference in mean body fat between the two squirrels ( <span class="math inline">\(\mu_c - \mu_f \neq 0\)</span> ) .</p>
<p>We then would put all our sample data into a t-test to evaluate whether or not to “reject” our hypothesis. or in other words: if there is a significant difference.</p>
</section>
<section id="p-values" class="level3">
<h3 class="anchored" data-anchor-id="p-values">P-values</h3>
<p>The p-value is the metric used to determine whether or not to reject a null hypothesis. There’s a number of ways which I’ve heard the p-value explained</p>
<p>The probability</p>
<p>I think the most intuitive way of thinking about the p-vale is that it is the probability of you harvesting the data you did, if the observed statistic (value, difference, slope, etc) was not real.</p>
</section>
<section id="effect-size" class="level3">
<h3 class="anchored" data-anchor-id="effect-size">Effect size:</h3>
<p>A major pitfall with the common approaches of statistics is that researchers get hyper-focused on p-values. They seek to get a result with a low p-value</p>
<p>The effect size is really what we are interested in</p>
</section>
</section>
<section id="common-statistical-tests-analyses" class="level1">
<h1>Common Statistical Tests &amp; Analyses</h1>
<table class="table">
<colgroup>
<col style="width: 20%">
<col style="width: 18%">
<col style="width: 60%">
</colgroup>
<thead>
<tr class="header">
<th><strong>Predictive Variable (Independent)</strong></th>
<th><strong>Response Variable (Dependent)</strong></th>
<th><strong>Appropriate Data Analysis / Statistical Test</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Categorical (2 levels)</strong></td>
<td><strong>Numerical</strong></td>
<td>t-test if normally distributed, Mann-Whitney U if not</td>
</tr>
<tr class="even">
<td><strong>Categorical (&gt;2 levels)</strong></td>
<td><strong>Numerical</strong></td>
<td><p>ANOVA (linear-model extention) if assumptions met,</p>
<p>Kruskal-Wallis test if not</p>
<p>Various post-hoc tests</p></td>
</tr>
<tr class="odd">
<td></td>
<td><strong>Categorical</strong></td>
<td>Chi-Square Test</td>
</tr>
<tr class="even">
<td><strong>Numerical</strong></td>
<td><strong>Categorical</strong></td>
<td>Logistic Regression (for binary response) or Multinomial Logistic Regression (for multiple categories)</td>
</tr>
<tr class="odd">
<td></td>
<td><strong>Numerical</strong></td>
<td>Linear Regression (for linear relationship) or Nonlinear Regression (for nonlinear relationship)</td>
</tr>
<tr class="even">
<td><strong>Time Series</strong></td>
<td><strong>Numerical</strong></td>
<td>Time Series Analysis (e.g., ARIMA, Exponential Smoothing)</td>
</tr>
<tr class="odd">
<td><strong>Categorical</strong></td>
<td><strong>Time to Event</strong></td>
<td>Survival Analysis (e.g., Kaplan-Meier, Cox Proportional-Hazards Regression)</td>
</tr>
<tr class="even">
<td><strong>Continuous</strong></td>
<td><strong>Continuous</strong></td>
<td>Correlation (pearson’s for linear, Spearmans for non-linear)</td>
</tr>
<tr class="odd">
<td><strong>Multivariate (Multiple Predictors)</strong></td>
<td><strong>Numerical</strong></td>
<td>Multiple Linear Regression (for linear relationships) or Multiple Nonlinear Regression (for nonlinear relationships)</td>
</tr>
<tr class="even">
<td></td>
<td><strong>Categorical</strong></td>
<td>Multinomial Logistic Regression</td>
</tr>
<tr class="odd">
<td><strong>Ordinal</strong></td>
<td><strong>Ordinal</strong></td>
<td>Ordinal Regression (e.g., Proportional Odds Model)</td>
</tr>
<tr class="even">
<td><strong>Count</strong></td>
<td><strong>Count</strong></td>
<td>Poisson Regression (for count data) or Negative Binomial Regression (for overdispersed count data)</td>
</tr>
</tbody>
</table>
<section id="caveats-with-common-approaches" class="level2">
<h2 class="anchored" data-anchor-id="caveats-with-common-approaches">Caveats with common approaches:</h2>
</section>
<section id="a-note-with-terminology" class="level2">
<h2 class="anchored" data-anchor-id="a-note-with-terminology">A note with terminology:</h2>
<p>There are several things which may get confusing when reading about ecological data analysis.</p>
<p>-- Wait, is it significant?</p>
<p>-- What is a model, what is a test?</p>
<p>Often times, these terms are used loosely and interchangeably. At the most basic, s</p>
<p>-- What are null hypotheses?</p>
<p>When learning statistics, you are likely introduced to the term “null” and “alternative” hypotheses. These are artifacts of the most common school of statistical thought, Frequentist Statistics, or Null Hypothesis Significance Testing (NHST). At it’s most basic, NHST is comparing whether or not the data we observed</p>
</section>
</section>
<section id="emerging-approaches" class="level1">
<h1>Emerging approaches</h1>
<p>Multivariate models are increasingly common in ecology. Often times</p>
<p>Machine learning methods are growing in popularity as well. The exact term “machine learning” can be broadly interpretted depending on how flashy authors might want their titles to be. However, at a basic level, Ordinary least squares is technically a machine learning approach</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>